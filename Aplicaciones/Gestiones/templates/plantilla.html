{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GESTIONES</title>
    <link rel="stylesheet" href="{% static 'li/bootstrap-5.3.3-dist/css/bootstrap.min.css'%}">
    <link rel="stylesheet" href="{% static 'li/iziToast-master/dist/css/iziToast.min.css'%}">
    <script src="{% static 'li/jquery/dist/jquery.min.js' %}"></script>
    <script src="{% static 'li/jquery-validation/dist/jquery.validate.min.js' %}"></script>
   

</head>
<body class="d-flex flex-column min-vh-100">

        <!-- Encabezado -->
    <div class="bg-success py-3">
        <div class="d-flex justify-content-between align-items-center container">
            <!-- Logo -->
            <a href="/" class="navbar-brand"> 
                <img src="{% static 'img/logo.jpg' %}" alt="Logo" width="100" height="100">
            </a>
    
            <!-- Menú de navegación -->
            <ul class="nav justify-content-end">
                <li class="nav-item">
                    <a class="nav-link text-light" href="{% url 'inicio' %}">INICIO</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-light" href="{% url 'listadoCampista' %}">LISTADO CAMPISTAS</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link text-light" href="{% url 'nuevoCampista' %}">AGREGAR CAMPISTAS</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link text-light" href="{% url 'listadoReservas' %}">LISTADO RESERVAS</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link text-light" href="{% url 'nuevoReservas' %}">AGREGAR RESERVAS</a>
                </li>
                    
                    
            </ul>
        </div>
    </div>
    <!-- JS de Bootstrap -->
    <script src="{% static 'li/bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js' %}"></script>

    <!-- JS de iziToast -->
    <script src="{% static 'li/iziToast-master/dist/js/iziToast.min.js' %}"></script>
    
    <!-- Contenido dinámico -->
    <main class="container my-4">
        {% block contenido %}
        <!-- Aquí se presentará el contenido específico de cada página -->
        {% endblock %}
    </main>
    
    <!-- Pie de página -->
    <footer class="mt-auto text-center text-light bg-success py-3">
        <h4>
            <b>Desarrollado por:</b> 
            Yesseña Canchig &copy;
        </h4>
        <p>2024</p>
    </footer>
    
    <!-- Notificaciones -->
    {% if messages %}
        {% for mensajeConfirmacion in messages %}
            <script>
                if ("{{ mensajeConfirmacion.tags }}" === "success") {
                    iziToast.success({
                        title: 'Éxito', 
                        message: '{{ mensajeConfirmacion }}',
                        position: 'topRight'
                    });
                }
            </script>
        {% endfor %}
    {% endif %}
    <style>
        label.error{
            color:red;
            font-weight: bold;
        }
        input.error{
            border:1px solid red;
        }
    </style>
    <script>
        jQuery.validator.addMethod("letras", function(value, element) {            
            return this.optional(element) || /^[A-Za-zÁÉÍÓÚÑáéíóúñ ]*$/.test(value);
           
          }, "Este campo solo acepta letras"); 
    </script>
    <script>
        jQuery.validator.addMethod("fechaMayorOIgual", function(value, element) {
            var fechaInicio = new Date(value);
            var fechaActual = new Date();
            fechaActual.setHours(0, 0, 0, 0); // Establecer la hora a medianoche
            return this.optional(element) || fechaInicio >= fechaActual;
        }, "La fecha de inicio no puede ser anterior al día de hoy");
    </script>
    <script>

        // Validación personalizada para verificar que la fecha de finalización sea posterior a la fecha de inicio
        jQuery.validator.addMethod("greaterThanFechaInicio", function(value, element) {
            var fechaInicio = new Date($("#txt_fechin_rev").val());
            var fechaFin = new Date(value);
            return this.optional(element) || fechaFin > fechaInicio;
        }, "La fecha de finalización debe ser posterior a la fecha de inicio");
    </script>
</body>

</html>